<?php
$title = 'Files Library';
$this->headTitle($title);

$this->bulkForm()->prepare();
?>
<h1><?= $this->escapeHtml($title); ?></h1>
<p><a href="<?= $this->url(null , array(
    'lang' => $this->lang(),
    'controller' => 'blog_file_controller', 
    'action'=>'upload',
));?>"><?= $this->translate('Add new File') ?></a></p>
<?= $this->form()->openTag($form) ?>
<div class="row">
    <div class="col-sm-8 col-md-8 col-lg-8">
        <?= $this->renderElement($form->get('action-top')) ?>
        <?= $this->renderElement($form->get('submit')) ?>
    </div>
    <div class="col-sm-4 col-md-4 col-lg-4">
<!-- Page selector -->
<!--    <?php //echo $this->paginator($paginator) ?> -->
<!-- ENDOF Page selector -->
    </div>
</div><!-- ENDOF Form action dropdown and submit Row -->
<table class="table table-bordered table-hover">
    <tr>
        <th><?= $this->bulkForm()->renderSelectAllCheckbox()?></th>
        <th><?= $this->translate('Name')?></th>
        <th><?= $this->translate('Dirpath')?></th>
        <th><?= $this->translate('Basename')?></th>
        <th><?= $this->translate('Type')?></th>
        <th><?= $this->translate('Size')?></th>
        <th>&nbsp;</th>
        <th>&nbsp;</th>
        <th>&nbsp;</th>
    </tr>
    <?php foreach($files as $file) : ?>
	    <tr>
            <td><?= $this->bulkForm()->renderElementCheckbox($file->getId()) ?></td>
	        <td><?= $this->escapeHtml($file->getName());?></td>
	        <td><?= $this->escapeHtml($file->getDirpath());?></td>
	        <td><?= $this->escapeHtml($file->getBasename());?></td>
	        <td><?= $this->escapeHtml($file->getType());?></td>
	        <td><?= $this->escapeHtml($file->getSize());?></td>
	        <td>
                <a href="<?= $this->url(null, array(
                    'lang' => $this->lang(),
                    'controller' => 'blog_media_controller', 
                    'action' => 'create',
                    'id' => $file->getId()
                )); ?>"><?= $this->translate('Link')?></a>
	        </td>
	        <td>
                <a href="<?= $this->url(null, array(
                    'lang' => $this->lang(),
                    'controller' => 'blog_file_controller', 
                    'action' => 'edit', 
                    'id' => $file->getId(),
                )); ?>"><?= $this->translate('Edit')?></a>

	        </td>
	        <td>
                <a href="<?= $this->url(null, array(
                    'lang' => $this->lang(),
                    'controller' => 'blog_file_controller', 
                    'action' => 'delete',
                    'id' => $file->getId()
                )); ?>" onclick="return confirm('Are you sure?')"><?= $this->translate('Delete')?></a>
	        </td>
	    </tr>
    <?php endforeach; ?>
</table>
<div class="row">
    <div class="col-sm-8 col-md-8 col-lg-8">
        <?= $this->renderElement($form->get('action-bottom')) ?>
        <?= $this->renderElement($form->get('submit')) ?>
    </div>
    <div class="col-sm-4 col-md-4 col-lg-4">
<!-- Page selector -->
<!--    <?php //echo $this->paginator($paginator) ?> -->
<!-- ENDOF Page selector -->
    </div>
</div><!-- ENDOF Form action dropdown and submit Row -->
<?= $this->form()->closeTag() ?>

<?php include $this->bulkForm()->getPartialScriptPath() ?>
